/*==============================================================================
   LoopSystem ESP32
   
  ============================================================================*/

//==============================================================================
//  Includes
//==============================================================================
#include "config.h"
#include "control_serial.h"

#include "driver/uart.h"    // for UART_PIN_NO_CHANGE

#include "HardwareSerial.h"

//==============================================================================
//  Defines
//==============================================================================


//==============================================================================
//  Local types
//==============================================================================

//==============================================================================
//  Local data
//==============================================================================
static HardwareSerial       serial(CONTROL_SERIAL_PORT);

//==============================================================================
//  Local functions
//==============================================================================


//==============================================================================
//  Exported functions
//==============================================================================

size_t ControlSerialGetWriteSize()
{
    return serial.availableForWrite();
}

size_t ControlSerialWrite(const uint8_t * const buffer, const size_t toSend)
{
    return serial.write(buffer, toSend);
}

eStatus ControlSerialInit()
{
    serial.begin(CONTROL_SERIAL_BAUD, CONTROL_SERIAL_FORMAT, CONTROL_SERIAL_RX_PIN, CONTROL_SERIAL_TX_PIN); 

    return eOK;
}


